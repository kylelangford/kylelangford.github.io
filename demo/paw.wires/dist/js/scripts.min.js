// limit the amount of resize calls by calling the function after the resize event
var waitForFinalEvent = function() {
    var a = {};
    return function(b, c, d) {
        if (!d) {
            d = "Don't call this twice without a uniqueId";
        }
        if (a[d]) {
            clearTimeout(a[d]);
        }
        a[d] = setTimeout(b, c);
    };
}();

function changeLayout() {
    if ($(window).width() >= 900) {
        // console.log('greater then 767 ');
        $(".sidebar").insertAfter(".content-body");
    } else {
        // console.log('less then 767 ');
        $(".sidebar").insertAfter(".content-bottom");
    }
}

// Resize Event
$(window).resize(function() {
    waitForFinalEvent(function() {
        // console.log('Resize...');
        changeLayout();
    }, 300, "some unique string");
});

// WE have this because the JS is in the HEAD, other wise we should use a self calling function
$(document).ready(function() {
    changeLayout();
});

function toggleMenu() {
    $(".header .navigation").toggleClass("open");
}